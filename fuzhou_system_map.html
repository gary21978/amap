<!doctype html>

<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>Fuzhou System Map</title>
    <link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css"/>
    <script src="http://webapi.amap.com/maps?v=1.4.7&key=6d7069d19c84667b9fa784007a4f93f9&plugin=AMap.Driving,AMap.LineSearch"></script>
    <script type="text/javascript" src="http://cache.amap.com/lbs/static/addToolbar.js"></script>
</head>
<body>
<div id="container"></div>
<script language="javascript">

    var map = new AMap.Map("container", {
        center: [119.30, 26.08],  
        zoom: 13,
    });
    map.setMapStyle('amap://styles/darkblue');
    map.setFeatures(['bg','road','point']);

    function lineSearch(cityname, number, linecolor) {
        var linesearch = new AMap.LineSearch({
            pageIndex: 1,
            city: cityname,
            pageSize: 1,
            extensions: 'all'
        });
        linesearch.search(number, function(status, result) {
            if (status === 'complete' && result.info === 'OK') {
                lineSearch_Callback(result, number, linecolor);
            } else {
                alert(number);
            }
        });
    }
    
    function lineSearch_Callback(data, number, linecolor) {
        var lineArr = data.lineInfo;
        var lineNum = data.lineInfo.length;
        for (var j = 0;j < lineNum;++j)
        {
            var pathArr = lineArr[j].path;
            var stops = lineArr[j].via_stops;
/*
	        for (var i = 0;i < stops.length;++i)
            {
                var circleMarker = new AMap.CircleMarker({
                            map:map,
                            center: stops[i].location,
                            radius: 2,
                            fillColor:'white',
                            strokeColor:linecolor,
                            strokeWeight:2    
			});
			}
*/
            var label = new AMap.Text({
		        text: number,
		        map: map,
		        opacity: 0.5,
		        position: stops[parseInt(stops.length/2)].location
		    });

            busPolyline = new AMap.Polyline({
    		    map: map,
    		    path: pathArr,
    		    strokeColor: linecolor,
    		    strokeOpacity: 1.0,
    		    strokeWeight: 2
    		    });
        }}



    var route = [
    	'1路', '2路', '3路', '4路', '5路', '6路', '7路', '8路', '9路', '10路', '11路', '12路', '13路', '14路', 
	    '15路', '16路', '17路', '18路', '19路', '20路', '21路', '22路', '23路', '25路', '26路', '27路', '28路', 
	    '29路', '30路', '31路', '32路', '33路', '35路', '36路', '37路', '38路', '39路', '40路', '41路', '42路', 
	    '43路', '45路', '46路', '47路', '48路', '49路', '50路', '51路', '52路', '53路', '54路', '55路', '56路', 
	    '57路', '58路', '59路', '60路', '61路', '62路', '63路', '64路', '65路', '66路', '67路', '68路', '69路', 
	    '70路', '71路', '72路', '73路', '74路', '75路', '76路', '77路', '78路', '79路', '80路', '81路', '82路', 
	    '83路', '84路', '85路', '86路', '87路', '88路', '89路', '90路', '91路', '92路', '93路', '95路', '96路', 
	    '97路', '98路', '99路', '100路', '101路', '102路',
	    '103路', '105路', '106路', '107路', '108路', '109路', '111路', '112路', '113路', '115路', '116路', '117路', 
    	'118路', '121路', '122路', '123路', '124路', '125路', '126路', '127路', '128路', '129路', '130路', '131路', 
    	'132路', '133路', '135路', '136路', '137路', '138路', '139路', '140路', '141路', '143路', '145路', '147路', 
    	'148路', '149路', '150路', '151路', '152路', '153路', '155路', '156路', '157路', '158路', '159路', '160路', 
    	'161路', '162路', '163路', '165路', '166路', '167路', '168路', '169路', '170路', '171路', '172路', '173路', 
    	'175路', '176路', '177路', '178路', '179路', '180路', '181路', '182路', '183路', '185路', '186路', '187路', 
    	'188路', '189路', '190路', '193路', '196路', '197路', '199路', '200路', '201路', '202路', '203路', '205路', 
    	'206路', '252路', '301路', '302路', '303路', '305路', '306路', '307路', '308路', '309路', '310路', '311路', 
    	'312路', '313路', '315路', '316路', '317路', '318路', '319路', '320路', '321路', '322路', '325路', '326路', 
    	'327路', '328路', '329路', '330路', '331路', '332路', '335路', '336路', '337路', '339路', '380路', '381路', 
    	'501路', '502路', '506路', '509路', '511路', '517路', '518路', '521路', '522路', '523路', '525路', '527路', 
    	'528路', '529路', '532路', '536路', '537路', '538路', '601路', '602路', '603路', '605路', '606路', '607路', 
    	'628路', '633路', '681路', '701路', '702路', '703路', '705路', '706路', '707路', '708路', '709路', '710路', 
    	'711路', '803路', '851路', '901路', '902路', '905路', 'K1路', 'K3路', 'M1路', '东部4号线', '东部14号线', 
    	'东部15号线', '东部26号线', '东部办公区', '东部办公区25号线', '两马航线', '免费巴士大学城线', '免费巴士金山线',
    	'金融街万达广场-南江滨专线', 
    	'地铁1号线', '地铁1号线延线', '地铁2号线', //'地铁4号线', '地铁5号线一期', '地铁6号线', 
    	'地铁接驳1号专线', '地铁接驳2号专线', '夜班1号线', '夜班2号线', 
    	// 平潭
    	'平潭1路', '平潭2路', '平潭3路', '平潭5路', '平潭6路', '平潭7路', '平潭8路', '平潭9路', '平潭10路', '平潭11路', 
    	'平潭18路', '平潭19路', '平潭20路', '平潭22路', '平潭23路', '平潭25路', '平潭26路', '平潭27路', '平潭30路', 
    	'平潭31路', '平潭53路', '平潭K1路', '平潭K2路', '平潭K6路', '平潭夜2路区间',
    	// 永泰
    	'樟13路', '永泰1路', '永泰2路', '永泰3路', '永泰5路', '永泰6路', '永泰7路', '永泰7路支线', '永泰8路', '永泰8路支线', 
    	'永泰9路', '永泰16路', '永泰17路', '永泰18路', 
    	// 福清
    	'福清601路', '福清602路', '福清801路', '福清803路', '福清805路', '福清806路', '福清807路', '福清808C路', 
    	'福清808路', '福清809路', '福清810路', '福清811路', '福清812路', '福清813路', '福清815路', '福清816路', 
    	'福清817路', '福清818路', '福清819路', '福清820路', '福清821路', '福清822路', '福清823路', '福清825路', 
    	'福清826路', '福清827路', '福清828路', '福清830路', '福清831路', '福清832路', '福清850路', '福清852路', 
    	'福清901路', '福清902路', '福清903路', 
    	// 罗源
    	'罗源1路', '罗源2路', '罗源5路', '罗源6路', '罗源7路', '罗源8路', '罗源9路', '罗源11路', '罗源12路', '罗源15路', 
    	// 连江
    	'连江1路', '连江2路', '连江3路', '连江5路', '连江6路', '连江7路', '连江8路', '连江9路', '连江10路', '连江11路', 
    	'连江12路', '连江13路', '连江15路', '连江16路', '连江17路', '连江18路', '连江山堂专线', '连江潘渡专线', 
    	'连江道澳专线', 
    	// 长乐
    	'长乐601路', '长乐602路', '长乐611路', '长乐612路', '长乐613路', '长乐614路', '长乐615路', '长乐616路', '长乐617路',
    	'长乐618路', '长乐619路', '长乐620路', '长乐621路', '长乐622路', '长乐623路', '长乐625路', '长乐626路', '长乐627路',
    	'长乐629路', '长乐632路', 
    	'闽侯906路', 
    	// 闽清
    	'闽清1路', '闽清3路', '闽清5路', '闽清6路', '闽清7路', '闽清8路', '闽清9路', '闽清10路', '闽清11路', 
    	'闽清快速公交K1线', 
    	// 机场
    	'机场专线', '机场大巴上街中旅线', '机场巴士连江专线', '空港专线怡山福大专线', '空港快线三坊七巷专线', 
    	'空港快线升龙汇金专线', '空港快线南平专线', '空港快线大学城专线', '空港快线宁德专线', '空港快线平潭专线', 
    	'空港快线建瓯专线', '空港快线江阴专线', '空港快线泰禾专线', '空港快线渔溪专线', '空港快线火车南站专线', 
    	'空港快线福安专线', '空港快线福州西客站线', '空港快线福清专线', '空港快线福清新厝专线', '空港快线莆田专线', 
    	'空港快线连江专线', '空港快线闽运汽车北站线', '空港快线阿波罗专线', '空港快线霞浦专线', 
    	'芝山部队定时班车', '蓝田专线', '观光巴士', '贵安新天地-溪山温泉专线', '贵安旅游2号专线', '贵安旅游3号专线', '贵安旅游4号专线', '贵安旅游6号线', '贵安旅游7号专线', '贵安旅游8号专线', '贵安水世界-贵安新天地专线', 
    	'江滨专线', '海峡建材城接送班车', '温泉城社区巴士', '滨海1路', '甘蔗-青口', 
    	'闽白专线', '闽运定制59路', '闽都大庄园接驳专线', '马尾定时专线', '鼓岭旅游度假区区间专线2'];

     N = route.length;

     // Generate random permulation
     var perm = new Array(N);
     for(var j = 0; j < N; j++)
     {
         perm[j] = j;
     }
  
     for(var j = 0; j < N; j++)
     {
        var swp = j + Math.floor(Math.random() * (N - j));
        var tmp = perm[j];
        perm[j] = perm[swp];
        perm[swp] = tmp;
     }

    for(var j = 0; j < N; j++)
    {
        color = "#" + parseInt(0xFFF/N*perm[j]).toString(16);
        lineSearch("福州", route[j], color);
    }


</script>
</body>
</html>
